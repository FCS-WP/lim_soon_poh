(function(_){"use strict";var p=p||{};p.init=function(){p.$body=_(document.body),p.$window=_(window),p.$header=_("#site-header"),p.$iconChevronLeft='<span class="slick-prev-arrow farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M22.4 32c0.205 0 0.409-0.078 0.566-0.234 0.312-0.312 0.312-0.819 0-1.131l-13.834-13.834 13.834-13.834c0.312-0.312 0.312-0.819 0-1.131s-0.819-0.312-1.131 0l-14.4 14.4c-0.312 0.312-0.312 0.819 0 1.131l14.4 14.4c0.156 0.156 0.361 0.234 0.566 0.234z"></path></svg></span>',p.$iconChevronRight='<span class="slick-next-arrow farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M8 32c-0.205 0-0.409-0.078-0.566-0.234-0.312-0.312-0.312-0.819 0-1.131l13.834-13.834-13.834-13.834c-0.312-0.312-0.312-0.819 0-1.131s0.819-0.312 1.131 0l14.4 14.4c0.312 0.312 0.312 0.819 0 1.131l-14.4 14.4c-0.156 0.156-0.361 0.234-0.566 0.234z"></path></svg></span>',p.$icon_check='<span class="message-icon farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M15.2 32c-4.060 0-7.877-1.581-10.748-4.452s-4.452-6.688-4.452-10.748c0-4.060 1.581-7.877 4.452-10.748s6.688-4.452 10.748-4.452c4.060 0 7.877 1.581 10.748 4.452s4.452 6.688 4.452 10.748-1.581 7.877-4.452 10.748c-2.871 2.871-6.688 4.452-10.748 4.452zM15.2 3.2c-7.499 0-13.6 6.101-13.6 13.6s6.101 13.6 13.6 13.6 13.6-6.101 13.6-13.6-6.101-13.6-13.6-13.6zM12 23.2c-0.205 0-0.409-0.078-0.566-0.234l-4.8-4.8c-0.312-0.312-0.312-0.819 0-1.131s0.819-0.312 1.131 0l4.234 4.234 10.634-10.634c0.312-0.312 0.819-0.312 1.131 0s0.312 0.819 0 1.131l-11.2 11.2c-0.156 0.156-0.361 0.234-0.566 0.234z"></path></svg></span>',p.$icon_alert='<span class="message-icon farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M15.2 32c-0.085 0-0.171-0.014-0.253-0.041-2.943-0.981-6.636-4.242-9.408-8.308-2.527-3.706-5.539-9.846-5.539-18.051 0-0.442 0.358-0.8 0.8-0.8 4.502 0 11.581-3.082 13.956-4.666 0.269-0.179 0.619-0.179 0.887 0 2.375 1.584 9.454 4.666 13.956 4.666 0.442 0 0.8 0.358 0.8 0.8 0 8.205-3.012 14.345-5.539 18.051-2.772 4.066-6.465 7.327-9.408 8.308-0.082 0.027-0.168 0.041-0.253 0.041zM1.609 6.374c0.181 7.409 2.932 12.973 5.252 16.376 2.83 4.151 6.169 6.767 8.339 7.601 2.17-0.833 5.509-3.45 8.339-7.601 2.32-3.403 5.070-8.966 5.252-16.376-2.605-0.163-5.506-1.060-7.568-1.824-2.269-0.84-4.558-1.909-6.022-2.802-1.464 0.893-3.753 1.962-6.022 2.802-2.062 0.764-4.963 1.66-7.568 1.824zM15.2 17.6c-0.442 0-0.8-0.358-0.8-0.8v-8c0-0.442 0.358-0.8 0.8-0.8s0.8 0.358 0.8 0.8v8c0 0.442-0.358 0.8-0.8 0.8zM15.2 22.4c-0.442 0-0.8-0.358-0.8-0.8v-1.6c0-0.442 0.358-0.8 0.8-0.8s0.8 0.358 0.8 0.8v1.6c0 0.442-0.358 0.8-0.8 0.8z"></path></svg></span>',p.$icon_close='<span class="close farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M17.131 16.8l9.034-9.034c0.312-0.312 0.312-0.819 0-1.131s-0.819-0.312-1.131 0l-9.034 9.034-9.034-9.034c-0.312-0.312-0.819-0.312-1.131 0s-0.312 0.819 0 1.131l9.034 9.034-9.034 9.034c-0.312 0.312-0.312 0.819 0 1.131 0.156 0.156 0.361 0.234 0.566 0.234s0.409-0.078 0.566-0.234l9.034-9.034 9.034 9.034c0.156 0.156 0.361 0.234 0.566 0.234s0.409-0.078 0.566-0.234c0.312-0.312 0.312-0.819 0-1.131l-9.034-9.034z"></path></svg></span>',p.$icon_chevron_down='<span class="cat-menu-close farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M0 9.6c0-0.205 0.078-0.409 0.234-0.566 0.312-0.312 0.819-0.312 1.131 0l13.834 13.834 13.834-13.834c0.312-0.312 0.819-0.312 1.131 0s0.312 0.819 0 1.131l-14.4 14.4c-0.312 0.312-0.819 0.312-1.131 0l-14.4-14.4c-0.156-0.156-0.234-0.361-0.234-0.566z"></path></svg></span>';this.preLoader();this.searchFormHandler();this.cartTogglePanel();this.menuSideBar();this.recentlyViewedProducts();this.menuMobile();this.searchMobile();this.stickyHeader();this.catalogBanners();this.catalogCategories();this.catalogProducts();this.productAttribute();this.catalogToolbarPagination();this.shopView();this.catalogFilterAjax();this.filterOnMobile();this.productQuickView();this.catalogOpenCartMini();this.updateWishlistCounter();this.addWishlist();this.addCompare();this.loadMoreProducts();this.productCategoriesWidget();this.searchLayeredNav();this.toggleWidget();this.productsCarouselWidget();this.addClassCalendar();this.productThumbnail();this.productVideo();this.productGallery();this.hoverProductTabs();this.singleProductCarousel();this.fbtProduct();this.fbtAddToCartAjax();this.fbtAddToWishlistAjax();this.productVariation();this.stickyProductInfo();this.productsCarousel();this.reviewProduct();this.productQuantity();this.buyNow();this.addToCartAjax();this.Tabs();this.postFormatGallery();this.postRelated();this.blogFilterAjax();this.blogLoadingAjax();this.popupVideo();this.filterSidebar();this.changeArrowNav();this.scrollTop();this.wooTabToggle();this.catalogSorting();this.goBackToPreviouslyPage()};p.searchFormHandler=function(){if(farmartData.header_ajax_search!="1"){return}p.$body.find(".farmart-products-search, .fm-search-form, .fm-search-icon").each(function(){var t=_(this);t.on("change",".product-cat-dd",function(){var e=_(this).find("option:selected").text().trim();t.find(".product-cat-label .label").html(e)});t.find(".products-search").submit(function(){if(_(this).find(".product-cat-dd").val()=="0"){_(this).find(".product-cat-dd").removeAttr("name")}});if(typeof wc_add_to_cart_params==="undefined"){return}var d=null,a=t.closest("form.form-search"),l={};t.on("keyup",".search-field",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}if(d){d.abort()}var a=_(this).closest(".form-search"),i=a.find("input.search-field");if(i.val().length<2){a.removeClass("searching searched actived found-products found-no-product invalid-length");_(document.body).removeClass("fm-search-mobile-success")}r(a)}).on("change",".product-cat input",function(){if(d){d.abort()}var e=_(this).closest(".form-search");r(e)}).on("change",".product-cat-dd",function(){if(d){d.abort()}var e=_(this).closest(".form-search");r(e)}).on("focusout",".search-field",function(){var e=_(this).closest(".form-search"),t=e.find("input.search-field");if(t.val().length<2){e.removeClass("searching searched actived found-products found-no-product invalid-length");_(document.body).removeClass("fm-search-mobile-success")}}).on("click",".product-cat-click a",function(){_(".product-cat-click li").removeClass("actived");_(this).parent().addClass("actived");a.removeClass("actived");if(d){d.abort()}var e=_(this).attr("data-catslug");if(e==undefined){e=0}var t=_(this).closest(".form-search");t.find('input[name="product_cat"]').val(e);r(t);return false});t.on("click",".close-search-results",function(e){e.preventDefault();t.find(".search-field").val("");t.find(".form-search").removeClass("searching searched actived found-products found-no-product invalid-length");_(document.body).removeClass("fm-search-mobile-success")});function r(a){var e=a.find("input.search-field"),t=e.val(),i=0,r=a.find(".search-results");if(a.find(".product-cat-dd").length>0){i=a.find(".product-cat-dd").val()}if(a.find('input[name="product_cat"]').val()){i=a.find('input[name="product_cat"]').val()}if(t.trim().length<2){a.removeClass("searching found-products found-no-product").addClass("invalid-length");return}a.removeClass("found-products found-no-product").addClass("searching");var o=t+i;if(o in l){var n=l[o];a.removeClass("searching");a.addClass("found-products");r.html(n.products);_(document.body).trigger("farmart_ajax_search_request_success",[r]);a.removeClass("invalid-length");a.addClass("searched actived");_(document.body).addClass("fm-search-mobile-success")}else{var s={term:t,cat:i,ajax_search_number:farmartData.header_search_number,search_type:farmartData.search_content_type},c=farmartData.ajax_url.toString().replace("%%endpoint%%","farmart_instance_search_form");d=_.post(c,s,function(e){var t=e.data;a.removeClass("searching");a.addClass("found-products");r.html(t);a.removeClass("invalid-length");_(document.body).trigger("farmart_ajax_search_request_success",[r]);l[o]={found:true,products:t};a.addClass("searched actived");_(document.body).addClass("fm-search-mobile-success")})}}})};p.cartTogglePanel=function(){var t=p.$body;t.on("click",'[data-toggle="modal"]',function(e){e.preventDefault();var t="#"+_(this).data("target");var a=window.innerWidth-document.documentElement.clientWidth;_(document.body).css({"padding-right":a,overflow:"hidden"});_(t).fadeIn();_(t).toggleClass("open");_(t).find(".box-cart-wrapper").toggleClass("open");_(t).find(".fm-off-canvas-layer").toggleClass("open")}).on("click",".fm-off-canvas-layer, .go-back",function(){_(document.body).removeAttr("style");_(".header-transparent .site-header").removeAttr("style");t.find(".cart-panel").fadeOut();t.find(".cart-panel").removeClass("open");t.find(".fm-off-canvas-layer").removeClass("open");t.find(".box-cart-wrapper").removeClass("open");t.find(".box-cart-wrapper").removeAttr("style")}).on("keyup",function(e){if(e.keyCode===27){_(document.body).removeAttr("style");t.find(".cart-panel").fadeOut();t.find(".cart-panel").removeClass("open");t.find(".fm-off-canvas-layer").removeClass("open");t.find(".box-cart-wrapper").removeClass("open");t.find(".box-cart-wrapper").removeAttr("style")}})};p.menuSideBar=function(){_("#primary-menu, .fm-nav-mobile-menu").find(".menu-item-has-children > a").append('<span class="toggle-menu-children"><span class="farmart-svg-icon"><svg viewBox="0 0 1024 1024"><path class="path1" d="M0 307.2c0-6.552 2.499-13.102 7.499-18.101 9.997-9.998 26.206-9.998 36.203 0l442.698 442.698 442.699-442.698c9.997-9.998 26.206-9.998 36.203 0s9.998 26.206 0 36.203l-460.8 460.8c-9.997 9.998-26.206 9.998-36.203 0l-460.8-460.8c-5-5-7.499-11.55-7.499-18.102z"></path></svg></span></span>');_(".department-menu").find(".menu-item-has-children > a").append('<span class="toggle-menu-children"><span class="farmart-svg-icon"><svg viewBox="0 0 1024 1024"><path class="path1" d="M256 1024c-6.552 0-13.102-2.499-18.101-7.499-9.998-9.997-9.998-26.206 0-36.203l442.698-442.698-442.698-442.699c-9.998-9.997-9.998-26.206 0-36.203s26.206-9.998 36.203 0l460.8 460.8c9.998 9.997 9.998 26.206 0 36.203l-460.8 460.8c-5 5-11.55 7.499-18.102 7.499z"></path></svg></span></span>')};p.recentlyViewedProducts=function(){p.$body.find(".fm-header-recently-viewed").each(function(){var e=_(this),t=true;e.hover(function(){if(t){a(e);t=false}})});function a(a){var i=a.find(".recently-has-products");var e={numbers:15,nonce:farmartData.nonce},t=farmartData.ajax_url.toString().replace("%%endpoint%%","farmart_recently_viewed_products");if(t==""){return}_.post(t,e,function(e){var t=_(e.data);i.html(t);if(i.find(".product-list").hasClass("no-products")){a.find(".recently-viewed-products").remove();if(a.hasClass("hide-empty-section")){a.addClass("fm-hide-section")}}else{a.find(".recently-empty-products").remove()}r(a);a.addClass("products-loaded").find(".farmart-loading--wrapper").remove()})}function r(e,t={}){var a=e,i=a.find("ul.products,ul.product-list"),r={arrows:true,dots:false,autoplay:false,infinite:true,autoplaySpeed:3e3,speed:800,slidesToShow:10,slidesToScroll:1,rtl:false};var o=JSON.stringify(r);var n={prevArrow:'<span class="slick-prev-arrow farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M22.4 32c0.205 0 0.409-0.078 0.566-0.234 0.312-0.312 0.312-0.819 0-1.131l-13.834-13.834 13.834-13.834c0.312-0.312 0.312-0.819 0-1.131s-0.819-0.312-1.131 0l-14.4 14.4c-0.312 0.312-0.312 0.819 0 1.131l14.4 14.4c0.156 0.156 0.361 0.234 0.566 0.234z"></svg></path></span>',nextArrow:'<span class="slick-next-arrow farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M8 32c-0.205 0-0.409-0.078-0.566-0.234-0.312-0.312-0.312-0.819 0-1.131l13.834-13.834-13.834-13.834c-0.312-0.312-0.312-0.819 0-1.131s0.819-0.312 1.131 0l14.4 14.4c0.312 0.312 0.312 0.819 0 1.131l-14.4 14.4c-0.156 0.156-0.361 0.234-0.566 0.234z"></svg></path></span>'};if(a.data("type")=="grid"){return}_.extend(true,n,t);i.attr("data-slick",o);i.not(".slick-initialized").slick(n)}};p.menuMobile=function(){p.$body.find(".fm-menu-mobile").each(function(){var a=p.$body.find(".farmart-menu-mobile"),i=_(".fm-menu-mobile").not(a);a.on("click",".menu-box-title",function(e){var t=_(this);e.preventDefault();i.find(".menu-mobile-wrapper").removeClass("open");i.removeClass("menu-active");t.siblings(".menu-mobile-wrapper").toggleClass("open");t.parent().toggleClass("menu-active");_(document.body).toggleClass("display-canvas-layer-menu");_(document).trigger("farmart_toggle_menu_mobile")});_(".fm-off-canvas-layer").on("click",function(e){_(document.body).removeClass("display-canvas-layer-menu");a.find(".menu-mobile-wrapper").removeClass("open");a.find(".menu-mobile-wrapper").removeAttr("style");a.removeClass("menu-active")});a.on("click",".close-canvas-mobile-panel",function(e){var t=_(this);e.preventDefault();_(document.body).removeClass("display-canvas-layer-menu");t.closest(".menu-mobile-wrapper").removeClass("open");t.closest(".menu-mobile-wrapper").removeAttr("style");a.removeClass("menu-active")});a.on("click",".toggle-menu-children",function(e){e.preventDefault();t(_(this))});_(document).on("farmart_toggle_cart_mobile farmart_toggle_search_mobile",function(){a.removeClass("menu-active");a.find(".menu-mobile-wrapper").removeClass("open");_(document.body).removeClass("display-canvas-layer-menu")});function t(e){e.closest("li").siblings().find("ul").slideUp();e.closest("li").siblings().removeClass("active");e.closest("li").siblings().find("li").removeClass("active");e.closest("li").children("ul").slideToggle();e.closest("li").toggleClass("active")}})};p.searchMobile=function(){p.$body.find(".search-panel").each(function(){var a=_(this),i=_(".search-panel").not(a);a.on("click",".open-search-panel",function(e){e.preventDefault();var t=_(this);var a=window.innerWidth-document.documentElement.clientWidth;_(document.body).css({"padding-right":a,overflow:"hidden"});i.find(".search-panel-content").removeClass("open");i.removeClass("search-active");t.siblings(".search-panel-content").toggleClass("open");t.parent().toggleClass("search-active");_(document.body).toggleClass("display-canvas-layer-search");_(document).trigger("farmart_toggle_search_mobile")});a.on("click",".close-search-panel",function(e){e.preventDefault();var t=_(this);_(document.body).removeAttr("style");t.closest(".search-panel-content").removeClass("open");a.removeClass("search-active");a.find(".search-field").val("");a.find('input[name="product_cat"]').val("0");a.find(".product-cat-click").find("li").removeClass("actived");a.find(".product-cat-click").find("li:first-child").addClass("actived");a.find("form").removeClass("searching actived found-products found-no-product invalid-length");a.find("form").find(".search-results").html("");_(document.body).removeClass("display-canvas-layer-search")});a.on("click",".fm-off-canvas-layer",function(e){_(document.body).removeAttr("style");_(document.body).removeClass("display-canvas-layer-search");a.find(".search-panel-content").removeClass("open");a.removeClass("search-active")});_(document).on("farmart_toggle_menu_mobile farmart_toggle_cart_mobile",function(){_(document.body).removeAttr("style");a.find(".search-panel-content").removeClass("open");a.removeClass("search-active");_(document.body).removeClass("display-canvas-layer-search")})})};p.stickyHeader=function(){if(!p.$body.hasClass("header-sticky")){return}var i=_("#site-header-minimized"),e=p.$header.find(".header-contents").hasClass("header-main")?p.$header.find(".header-main").outerHeight():0,t=p.$header.find(".header-contents").hasClass("header-bottom")?p.$header.find(".header-bottom").outerHeight():0,r=p.$header.find(".header-contents").hasClass("header-mobile")?p.$header.find(".header-mobile").outerHeight():0,o=e+t;if(p.$header.hasClass("header-bottom-no-sticky")){o=e}else if(p.$header.hasClass("header-main-no-sticky")){o=t}p.$window.on("scroll",function(){var e=p.$window.scrollTop(),t=p.$header.outerHeight(true),a=p.$body.outerHeight(true);if(a<=t+p.$window.height()){return}if(e>t){p.$header.addClass("minimized");_("#farmart-header-minimized").addClass("minimized");p.$body.addClass("sticky-minimized");if(p.$window.width()>992){i.css("height",o)}else{i.css("height",r)}}else{p.$header.removeClass("minimized");_("#farmart-header-minimized").removeClass("minimized");p.$body.removeClass("sticky-minimized");i.removeAttr("style")}})};p.popupVideo=function(){_(".popup-video").magnificPopup({type:"iframe",mainClass:"fmp-fade",removalDelay:300,preloader:false,fixedContentPos:false,disableOn:function(){if(_(window).width()<600){return false}return true},iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}},srcAction:"iframe_src"}})};p.searchLayeredNav=function(){var e=_(".fm-widget-layered-nav");if(e.length<1){return}e.on("keyup",".fm-input-search-nav",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}var a=_(this).val();if(typeof a==="number"){a=""+a}var i=a.toUpperCase(),r=_(this).closest(".fm-widget-layered-nav"),o=r.find(".woocommerce-widget-layered-nav-list"),n=o.children(".wc-layered-nav-term");n.each(function(){var e=_(this).find("a").data("title");if(typeof e==="number"){e=""+e}e=e.toUpperCase();if(e.indexOf(i)>-1){_(this).show()}else{_(this).hide()}});var s=o.data("height");if(o.height()<parseInt(s)){r.addClass("no-scroll")}else{r.removeClass("no-scroll")}})};p.priceSlider=function(){if(typeof woocommerce_price_slider_params==="undefined"){return false}if(_(".catalog-sidebar").find(".widget_price_filter").length<=0){return false}_("input#min_price, input#max_price").hide();_(".price_slider, .price_label").show();var e=_(".price_slider_amount #min_price").data("min"),t=_(".price_slider_amount #max_price").data("max"),a=parseInt(e,10),i=parseInt(t,10);if(_(".price_slider_amount #min_price").val()!=""){a=parseInt(_(".price_slider_amount #min_price").val(),10)}if(_(".price_slider_amount #max_price").val()!=""){i=parseInt(_(".price_slider_amount #max_price").val(),10)}_(document.body).on("price_slider_create price_slider_slide",function(e,t,a){if(woocommerce_price_slider_params.currency_pos==="left"){_(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+t);_(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+a)}else if(woocommerce_price_slider_params.currency_pos==="left_space"){_(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+t);_(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+a)}else if(woocommerce_price_slider_params.currency_pos==="right"){_(".price_slider_amount span.from").html(t+woocommerce_price_slider_params.currency_symbol);_(".price_slider_amount span.to").html(a+woocommerce_price_slider_params.currency_symbol)}else if(woocommerce_price_slider_params.currency_pos==="right_space"){_(".price_slider_amount span.from").html(t+" "+woocommerce_price_slider_params.currency_symbol);_(".price_slider_amount span.to").html(a+" "+woocommerce_price_slider_params.currency_symbol)}_(document.body).trigger("price_slider_updated",[t,a])});if(typeof _.fn.slider!=="undefined"){_(".price_slider").slider({range:true,animate:true,min:e,max:t,values:[a,i],create:function(){_(".price_slider_amount #min_price").val(a);_(".price_slider_amount #max_price").val(i);_(document.body).trigger("price_slider_create",[a,i])},slide:function(e,t){_("input#min_price").val(t.values[0]);_("input#max_price").val(t.values[1]);_(document.body).trigger("price_slider_slide",[t.values[0],t.values[1]])},change:function(e,t){_(document.body).trigger("price_slider_change",[t.values[0],t.values[1]])}})}};p.catalogFilterAjax=function(){if(_("#primary-sidebar").hasClass("farmart-sidebar-style-2")){_(".fm_widget_product_categories .product-categories").removeClass("fm-widget-vertical-item");if(_(".wp-block-group__inner-container > p").is(":empty")){_(".wp-block-group__inner-container > p").remove()}}if(!p.$body.hasClass("catalog-ajax-filter")){return}var o=_("#fm-catalog-ajax-loader");o.addClass("fade-in");_(document.body).on("price_slider_change",function(e,t){var a=_(".price_slider").closest("form").get(0),i=_(a),r=i.attr("action")+"?"+i.serialize();_(document.body).trigger("farmart_catelog_filter_ajax",r,_(this))});p.$body.on("click",".fm_widget_product_categories a, .fm-widget-layered-nav a, .widget_rating_filter a, .widget_layered_nav_filters a, ul.woocommerce-ordering a:not(.fm-cancel-order), ul.per-page a, .farmart-go-back a, .farmart-price-filter-list a",function(e){e.preventDefault();var t=_(this).attr("href");_(document.body).trigger("farmart_catelog_filter_ajax",t,_(this))});_(document.body).on("farmart_catelog_filter_ajax",function(e,t,a){var i=_("#content"),r=_(".page-header");o.removeClass("fade-in");NProgress.start();if("?"==t.slice(-1)){t=t.slice(0,-1)}t=t.replace(/%2C/g,",");history.pushState(null,null,t);_(document.body).trigger("farmart_ajax_filter_before_send_request",[t,a]);if(p.ajaxXHR){p.ajaxXHR.abort()}p.ajaxXHR=_.get(t,function(e){i.replaceWith(_(e).find("#content"));r.html(_(e).find(".page-header").html());if(_(e).find("#primary-sidebar").length<1){p.$body.removeClass("mb-filter-active sidebar-content").addClass("full-content")}_(document.body).trigger("farmart_ajax_filter_request_success",[e,t])},"html")});_(document.body).on("farmart_ajax_filter_request_success",function(){p.shopView();p.catalogCategories();p.catalogProducts();p.searchLayeredNav();p.productCategoriesWidget();p.productAttribute();p.priceSlider();p.productsCarouselWidget();p.toggleWidget();NProgress.done();if(_("#primary-sidebar").hasClass("farmart-sidebar-style-2")){_(".fm_widget_product_categories .product-categories").removeClass("fm-widget-vertical-item")}o.addClass("fade-in");_(document.body).removeClass("fm-overflow-y")})};p.filterOnMobile=function(){var i=_(".fm-navigation-mobile");p.$body.on("click","#fm-filter-mobile",function(e){e.preventDefault();var t=_(this),a=i.height();p.$body.find(".catalog-sidebar").fadeIn().toggleClass("fm-filter-active");_(document.body).toggleClass("fm-overflow-y");p.$body.find("#primary-sidebar").css("height",_(window).height()-a)});p.$body.on("click",".catalog-sidebar .backdrop,.catalog-sidebar .close-sidebar",function(e){e.preventDefault();p.$body.find(".catalog-sidebar").fadeOut().removeClass("fm-filter-active");_(document.body).removeClass("fm-overflow-y")})};p.filterSidebar=function(){var i=_(".fm-navigation-mobile");p.$body.on("click","#fm-vendor-infor-mobile",function(e){e.preventDefault();var t=_(this),a=i.height();p.$body.find(".dokan-store-sidebar").fadeIn().toggleClass("fm-filter-active");p.$body.find("#wcfmmp-store .sidebar").fadeIn().toggleClass("fm-filter-active");_(document.body).toggleClass("fm-overflow-y");p.$body.find(".dokan-store-sidebar").css("height",_(window).height()-a);p.$body.find(".dokan-widget-area").css("padding-bottom",a+"px");p.$body.find("#wcfmmp-store .sidebar").css("height",_(window).height()-a);p.$body.find(".wcfm-widget-area").css("padding-bottom",a+"px")});p.$body.on("click",".close-sidebar",function(e){e.preventDefault();p.$body.find(".dokan-store-sidebar").fadeOut().removeClass("fm-filter-active");p.$body.find("#wcfmmp-store .sidebar").fadeOut().removeClass("fm-filter-active");_(document.body).removeClass("fm-overflow-y")})};p.changeArrowNav=function(){_(".dokan-single-store .dokan-pagination-container .dokan-pagination li:first-child a").html('<span class="farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M22.4 32c0.205 0 0.409-0.078 0.566-0.234 0.312-0.312 0.312-0.819 0-1.131l-13.834-13.834 13.834-13.834c0.312-0.312 0.312-0.819 0-1.131s-0.819-0.312-1.131 0l-14.4 14.4c-0.312 0.312-0.312 0.819 0 1.131l14.4 14.4c0.156 0.156 0.361 0.234 0.566 0.234z"></path></svg></span>');_(".dokan-single-store .dokan-pagination-container .dokan-pagination li:last-child a").html('<span class="farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M8 32c-0.205 0-0.409-0.078-0.566-0.234-0.312-0.312-0.312-0.819 0-1.131l13.834-13.834-13.834-13.834c-0.312-0.312-0.312-0.819 0-1.131s0.819-0.312 1.131 0l14.4 14.4c0.312 0.312 0.312 0.819 0 1.131l-14.4 14.4c-0.156 0.156-0.361 0.234-0.566 0.234z"></path></svg></span>')};p.preLoader=function(){if(!p.$body.hasClass("fm-preloader")){return}var e=_("#farmart-preloader");if(!e.length){return}if(p.$body.hasClass("elementor-editor-active")){e.addClass("fade-in");return}_(document).ready(function(){e.addClass("fade-in")})};p.catalogBanners=function(){var e=_("#fm-catalog-banners");if(e.length<=0){return}var t=e.data("autoplay"),a=false,i=1e3;if(t>0){a=true;i=t;t=true}else{t=false}e.slick({rtl:farmartData.direction==="true",slidesToShow:1,slidesToScroll:1,autoplaySpeed:i,autoplay:t,infinite:a,arrows:true,dots:true,prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight,responsive:[{breakpoint:992,settings:{arrows:false}}]})};p.catalogCategories=function(){var e=_("#fm-catalog-categories .catalog-carousel__wrapper");if(e.length<=0){return}var t=e.data("columns");e.slick({rtl:farmartData.direction==="true",slidesToShow:t,slidesToScroll:1,arrows:true,dots:false,prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1,arrows:false,dots:true}},{breakpoint:768,settings:{slidesToShow:2,arrows:false,dots:true}}]})};p.catalogProducts=function(){var e=_(".fm-catalog-products .catalog-carousel__wrapper");if(!e.length){return}e.each(function(){var e=_(this),t=e.find("ul.products"),a=e.data("settings");if(t.children().length<a.slidesToShow){return}var i={arrows:false,dots:true,prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight};var r=JSON.stringify(a);t.attr("data-slick",r);t.slick(i)})};p.productAttribute=function(){var o="",n="";p.$body.on("mouseover",".fm-swatch-item",function(e){e.preventDefault();var t=_(this).closest("li.product").find(".fm-product-thumbnail"),a=t.find("img");o=a.attr("src");n=a.attr("srcset");var i=_(this).data("src"),r=_(this).data("src-set");a.attr("src",i);if(r){a.attr("srcset",r)}}).on("mouseout",".fm-swatch-item",function(e){e.preventDefault();var t=_(this).closest("li.product").find(".fm-product-thumbnail"),a=t.find("img");if(o){a.attr("src",o)}if(n){a.attr("srcset",n)}})};p.catalogToolbarPagination=function(){_(".fm-toolbar-pagination").on("submit",function(){var e=_("#fm-catalog-page-number").val(),t=_("#fm-catalog-url-page-"+e).val();window.location.href=t;return false})};p.shopView=function(){_("#fm-shop-view").on("click",".shop-view__icon a",function(e){e.preventDefault();var t=_(this),a=t.data("view");if(t.hasClass("current")){return}t.addClass("current").siblings().removeClass("current");p.$body.removeClass("catalog-view-grid catalog-view-list catalog-view-extended").addClass("catalog-view-"+a);document.cookie="catalog_view="+a+";domain="+window.location.host+";path=/";p.$body.trigger("farmart_shop_view_after_change")})};p.productQuickView=function(){var o=_("#fm-quick-view-modal"),n=o.find(".product-modal-content"),i=farmartData.ajax_url.toString().replace("%%endpoint%%","product_quick_view");if(i==""){return}p.$body.on("click",".fm-product-quick-view",function(e){e.preventDefault();var t=_(this),a=t.data("id");n.hide().html("");o.addClass("loading").removeClass("loaded");p.openModal(o);_.ajax({url:i,dataType:"json",method:"post",data:{action:"farmart_product_quick_view",nonce:farmartData.nonce,product_id:a},success:function(e){n.show().append(e.data);o.removeClass("loading").addClass("loaded");var t=n.find(".woocommerce-product-gallery"),a=_(".variations_form"),i=n.find("form.cart .actions-button"),r=i.find(".buy_now_button");t.removeAttr("style");t.imagesLoaded(function(){t.find(".woocommerce-product-gallery__wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:false,dots:true,prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight})});if(r.length>0){i.prepend(r)}t.find(".woocommerce-product-gallery__image").on("click",function(e){e.preventDefault()});if(typeof wc_add_to_cart_variation_params!=="undefined"){a.each(function(){_(this).wc_variation_form()})}if(typeof _.fn.tawcvs_variation_swatches_form!=="undefined"){a.tawcvs_variation_swatches_form()}_(document.body).trigger("init_variation_swatches");if(typeof tawcvs!=="undefined"){if(tawcvs.tooltip==="yes"){a.find(".swatch").tooltip({classes:{"ui-tooltip":"farmart-tooltip"},tooltipClass:"farmart-tooltip qv-tool-tip",position:{my:"center bottom",at:"center top-13"},create:function(){_(".ui-helper-hidden-accessible").remove()}})}}p.buyNow();p.addToCartAjax()}})});o.on("click",".close-modal, .fm-modal-overlay",function(e){e.preventDefault();p.closeModal(o)})};p.buyNow=function(){p.$body.find("form.cart").on("click",".buy_now_button",function(e){e.preventDefault();var t=_(this).closest("form.cart"),a=_(this).is(":disabled");if(a){jQuery("html, body").animate({scrollTop:_(this).offset().top-200},900)}else{t.append('<input type="hidden" value="true" name="buy_now" />');t.find(".single_add_to_cart_button").addClass("has-buy-now");t.find(".single_add_to_cart_button").trigger("click")}})};p.openModal=function(e){e.fadeIn();e.addClass("open")};p.closeModal=function(e){e.fadeOut(function(){_(this).removeClass("open")})};p.addToCartAjax=function(){var s=false;p.$body.find("form.cart").on("click",".single_add_to_cart_button",function(e){var r=_(this),t=r.closest("form.cart"),o=r.closest(".product").find(".product_title");if(r.hasClass("has-buy-now")){return}if(!r.closest("div.product").hasClass("add-to-cart-ajax")){return}if(t.length>0){e.preventDefault()}else{return}if(r.hasClass("disabled")){return}r.addClass("loading");if(s){return}s=true;var a=t.serializeArray(),n=window.location.href;if(r.val()!=""){a.push({name:r.attr("name"),value:r.val()})}_.ajax({url:window.location.href,method:"post",data:a,error:function(){window.location=n},success:function(e){if(!e){window.location=n}if(typeof wc_add_to_cart_params!=="undefined"){if(wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=wc_add_to_cart_params.cart_url;return}}_(document.body).trigger("updated_wc_div");var t="",a="success",i=o.html();if(_(e).find(".woocommerce-message").length>0){_(document.body).trigger("wc_fragment_refresh");t=_(e).find(".woocommerce-message").html()}else if(_(e).find(".woocommerce-error").length>0){t=_(e).find(".woocommerce-error").html();a="error"}else if(_(e).find(".woocommerce-info").length>0){t=_(e).find(".woocommerce-info").html()}if(_(e).find(".woocommerce-notices-wrapper .wc-block-components-notice-banner.is-success").length){a="success";t=_(e).find(".woocommerce-notices-wrapper .wc-block-components-notice-banner.is-success .wc-block-components-notice-banner__content").html()}else if(_(e).find(".woocommerce-notices-wrapper .wc-block-components-notice-banner.is-error").length){a="error";t=_(e).find(".woocommerce-notices-wrapper .wc-block-components-notice-banner.is-error .wc-block-components-notice-banner__content").html()}else if(_(e).find(".woocommerce-notices-wrapper .wc-block-components-notice-banner").length){t=_(e).find(".woocommerce-notices-wrapper .wc-block-components-notice-banner .wc-block-components-notice-banner__content").html()}if(!t){i=o.find("a").html()}p.addedToCartNotice(t,i,true,a,false);s=false;r.removeClass("loading")}})})};p.addedToCartNotice=function(e,t,a,i,r){if(farmartData.added_to_cart_notice==="undefined"||!_.fn.notify){return}if(t===false){t=" "}else{if(r){t+=" "+farmartData.added_to_cart_notice.added_to_cart_texts}else{t+=" "+farmartData.added_to_cart_notice.added_to_cart_text}}e+='<a href="'+farmartData.added_to_cart_notice.cart_view_link+'" class="btn-button">'+farmartData.added_to_cart_notice.cart_view_text+"</a>";if(a){e='<div class="message-box">'+e+"</div>"}_.notify.addStyle("farmart",{html:"<div>"+p.$icon_check+"<span data-notify-text/>"+e+p.$icon_close+"</div>"});_.notify(t,{autoHideDelay:farmartData.added_to_cart_notice.cart_notice_auto_hide,className:i,style:"farmart",showAnimation:"fadeIn",hideAnimation:"fadeOut"});if(farmartData.added_to_cart_notice.header_cart_behaviour=="panel"&&farmartData.added_to_cart_notice.open_cart_panel_added_to_cart_notice=="1"){_(".site-header").find(".cart-contents").trigger("click")}};p.addedToCartFaildNotice=function(e,t,a,i,r){if(farmartData.added_to_cart_notice==="undefined"||!_.fn.notify){return}t=" ";e='<div class="message-box">'+e+"<br>"+farmartData.added_to_cart_notice.noticeQuantityMin+" : "+r+"<br>"+farmartData.added_to_cart_notice.noticeQuantityMax+" : "+i+"</div>";_.notify.addStyle("farmart",{html:"<div>"+p.$icon_alert+"<span data-notify-text/>"+e+p.$icon_close+"</div>"});_.notify(t,{autoHideDelay:farmartData.added_to_cart_notice.cart_notice_auto_hide,className:a,style:"farmart",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};p.catalogOpenCartMini=function(){_(document.body).on("added_to_cart",function(e,t,a,i){var r=i.attr("data-title"),o='<span class="notify-quantity">('+"x"+i.data("quantity")+")</span>";p.addedToCartNotice(o,r,false,"success",false)})};p.productQuantity=function(){p.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault();var t=_(this),a=t.closest(".product-button"),i=a.find(".quantity_button"),r=t.closest(".quantity").siblings(".box-price").find(".price-current"),o=r.data("current"),n=r.data("decimals"),s=r.data("decimal_separator"),c=r.data("thousand_separator"),d=t.siblings(".qty"),l=parseInt(d.attr("step"),10),f=parseInt(d.val(),10),u=parseInt(d.attr("min"),10),m=parseInt(d.attr("max"),10);u=u?u:0;m=m?m:f+1;if(t.hasClass("decrease")&&f>u){d.val(f-l);d.trigger("change");var p=+i.attr("data-quantity");p=p-1;i.attr("data-quantity",p);var h=o*p;h=g(h,n,s,c);r.html(h)}if(t.hasClass("increase")&&f<m){d.val(f+l);d.trigger("change");var p=+i.attr("data-quantity");p=p+1;i.attr("data-quantity",p);var v=o*p;v=g(v,n,s,c);r.html(v)}if(t.closest(".wcboost-wishlist-item").length){if(t.hasClass("increase")){t.closest(".wcboost-wishlist-item").find(".qty").val(f+l);t.closest(".wcboost-wishlist-item").find(".qty").trigger("change")}if(t.hasClass("decrease")){t.closest(".wcboost-wishlist-item").find(".qty").val(f-l);t.closest(".wcboost-wishlist-item").find(".qty").trigger("change")}}});function g(e,t,a,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var r=!isFinite(+e)?0:+e,o=!isFinite(+t)?0:Math.abs(t),n=typeof i==="undefined"?",":i,s=typeof a==="undefined"?".":a,c="",d=function(e,t){var a=Math.pow(10,t);return""+Math.round(e*a)/a};c=(o?d(r,o):""+Math.round(r)).split(".");if(c[0].length>3){c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)}if((c[1]||"").length<o){c[1]=c[1]||"";c[1]+=new Array(o-c[1].length+1).join("0")}return c.join(s)}p.$body.on("keyup",".quantity .qty",function(e){e.preventDefault();var t=_(this),a=t.closest(".product-button"),i=a.find(".quantity_button"),r=t.closest(".quantity").siblings(".box-price").find(".price-current"),o=r.data("current"),n=parseInt(t.val(),10),s=parseInt(t.attr("min"),10),c=parseInt(t.attr("max"),10);var d=s?s:1;var l=c?c:n+1;if(n<=l&&n>=d){i.attr("data-quantity",n);var f=(o*n).toFixed(2);r.html(f)}else{var u=farmartData.added_to_cart_notice.noticeFaildQuantity;p.addedToCartFaildNotice(u,"","success",c,s)}})};p.addWishlist=function(){_("ul.products li.product .yith-wcwl-add-button").on("click","a",function(){_(this).addClass("loading")});p.$body.on("added_to_wishlist",function(e,t){e.preventDefault();_("ul.products li.product .yith-wcwl-add-button a").removeClass("loading");if(t.hasClass("fbt-wishlist")){return}var a=t.data("product-title");p.addedToWishlistNotice("",a,"success",min,max)})};p.updateWishlistCounter=function(){var e=_(".fm-wishlist .mini-item-counter, .header-element--wishlist .mini-item-counter");if(!e.length){return}_(document.body).on("added_to_wishlist",function(){e.text(function(){return parseInt(this.innerText,10)+1})}).on("removed_from_wishlist",function(){e.text(function(){var e=parseInt(this.innerText,10)-1;return Math.max(0,e)})})};p.addedToWishlistNotice=function(e,t,a,i,r){if(typeof farmartData.added_to_wishlist_notice==="undefined"||!_.fn.notify){return}if(r){t+=" "+farmartData.added_to_wishlist_notice.added_to_wishlist_texts}else{t+=" "+farmartData.added_to_wishlist_notice.added_to_wishlist_text}e+='<a href="'+farmartData.added_to_wishlist_notice.wishlist_view_link+'" class="btn-button">'+farmartData.added_to_wishlist_notice.wishlist_view_text+"</a>";if(a){e='<div class="message-box">'+e+"</div>"}_.notify.addStyle("farmart",{html:"<div>"+p.$icon_check+"<span data-notify-text/>"+e+p.$icon_close+"</div>"});_.notify(t,{autoHideDelay:farmartData.added_to_wishlist_notice.wishlist_notice_auto_hide,className:i,style:"farmart",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};p.addCompare=function(){p.$body.on("click","a.compare:not(.added)",function(e){e.preventDefault();var t=_(this);t.addClass("loading");t.closest(".product-inner, .single-button-wrapper").find(".compare:not(.loading)").trigger("click");var a=false;if(_(this).hasClass("added")){a=true}if(a===false){var i=p.$header.find(".mini-compare-counter").html();i=parseInt(i,10)+1;setTimeout(function(){p.$header.find(".mini-compare-counter").html(i);t.removeClass("loading")},2e3)}});_(document).find(".compare-list").on("click",".remove a",function(e){e.preventDefault();var t=_(".mini-compare-counter",window.parent.document).html();t=parseInt(t,10)-1;if(t<0){t=0}_(".mini-compare-counter",window.parent.document).html(t);_("a.compare").removeClass("loading")});_(".yith-woocompare-widget").on("click","li a.remove",function(e){e.preventDefault();var t=p.$header.find(".mini-compare-counter").html();t=parseInt(t,10)-1;if(t<0){t=0}setTimeout(function(){p.$header.find(".mini-compare-counter").html(t)},2e3)});_(".yith-woocompare-widget").on("click","a.clear-all",function(e){e.preventDefault();setTimeout(function(){p.$header.find(".mini-compare-counter").html("0")},2e3)})};p.loadMoreProducts=function(){_(document.body).on("click",".woocommerce-navigation.ajax-navigation a",function(e){e.preventDefault();var t=_(this);if(t.hasClass("loading")){return}t.addClass("loading");a(_(this))});if(_(document.body).hasClass("catalog-nav-infinite")){_(window).on("scroll",function(){if(_(document.body).find(".woocommerce-navigation.ajax-navigation").is(":in-viewport")){_(document.body).find(".woocommerce-navigation.ajax-navigation a").trigger("click")}}).trigger("scroll")}function a(o){var n=o.closest(".woocommerce-navigation"),e=o.attr("href");_.get(e,function(e){var t=_("#main",e),a=_("ul.products",t),i=a.children(),r=_(".woocommerce-navigation.ajax-navigation",t);i.each(function(e,t){_(t).css("animation-delay",e*100+"ms")});i.appendTo(n.prev("ul.products"));i.addClass("animated farmartFadeInUp");if(r.length){o.replaceWith(_("a",r))}else{n.fadeOut(function(){n.remove()})}_(document.body).trigger("farmart_products_loaded",[i,true]);_(document.body).trigger("yith_wcwl_init")})}};p.productCategoriesWidget=function(){var e=_(".fm_widget_product_categories");if(e.length<=0){return}e.find("ul.children").closest("li").prepend(p.$icon_chevron_down);e.find("li.current-cat-parent, li.current-cat, li.current-cat-ancestor").addClass("opened").children(".children").show();e.on("click",".cat-menu-close",function(e){e.preventDefault();_(this).closest("li").children(".children").slideToggle();_(this).closest("li").toggleClass("opened")})};p.toggleWidget=function(){_(".widget").each(function(){var e=_(this).find(".toggle-widget-btn");e.on("click",function(){var e=_(this).closest(".widget").children().not(".widget-title");_(this).toggleClass("close");e.slideToggle()})})};p.productsCarouselWidget=function(){_(".fm-widget-products-carousel").each(function(){var e=_(this),t={prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight};e.find("ul.products").not(".slick-initialized").slick(t)})};p.addClassCalendar=function(){var e=new Date,t=e.getDate();_("#wp-calendar tbody td").each(function(){var e=_(this).text();if(t>e){_(this).addClass("old")}})};p.productThumbnail=function(){var r=_(".woocommerce-product-gallery"),o=r.find(".woocommerce-product-gallery__image.fm-product-video"),n=r.parent();p.$window.on("load",function(){_(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").each(function(){if(_(this).find("img").hasClass("lazy")){var e=_(this).find("img").data("original");_(this).find("img").attr("src",e)}})});r.on("wc-product-gallery-after-init",function(){r.imagesLoaded(function(){var e=r.find(".flex-control-thumbs");if(e.length<1){return}if(p.$body.hasClass("mobile-version")){return}var t=r.data("columns");var a=e.find("li").length;if(a>t){var i={rtl:farmartData.isRTL==="1",slidesToShow:t,slidesToScroll:1,vertical:true,focusOnSelect:true,infinite:false,prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight};if(n.hasClass("fm-product-thumbnail-horizontal")){i.vertical=false;i.prevArrow=p.$iconChevronLeft;i.nextArrow=p.$iconChevronRight}e.slick(i)}else{e.addClass("no-slick")}if(o.length>0){_(".woocommerce-product-gallery").addClass("has-video");if(_(".woocommerce-product-gallery").hasClass("video-first")){e.find("li").first().append('<div class="i-video"><div class="i-inner"></div><div class="i-play"></div></div>')}else{e.find("li").last().append('<div class="i-video"><div class="i-inner"></div><div class="i-play"></div></div>')}}})});p.$window.on("resize",function(){var e=r.find(".woocommerce-product-gallery__image").height(),t=r.find(".product-image-ms");t.css("top",e+50)}).trigger("resize")};p.productVideo=function(){var r=_(".woocommerce-product-gallery");var e=r.find(".woocommerce-product-gallery__image.fm-product-video");var t=r.find(".flex-control-thumbs");if(e.length<1){return}var o=false,n=false;t.on("click","li",function(){var e=r.find(".fm-product-video");var t=_(this).siblings().length;n=true;if(_(this).index()==t){n=false;o=false}if(!o&&n){var a=e.find("iframe"),i=e.find("video.wp-video-shortcode");if(a.length>0){a.attr("src",a.attr("src"))}if(i.length>0){i[0].pause()}o=true}return false});t.find("li").on("click",".i-video",function(e){e.preventDefault();_(this).closest("li").find("img").trigger("click")})};p.productGallery=function(){var e=_(".woocommerce-product-gallery");if(typeof farmartData.product_gallery==="undefined"||farmartData.product_gallery!="1"){e.on("click",".woocommerce-product-gallery__image",function(e){return false});return}if(!e.length){return}e.find(".woocommerce-product-gallery__image").on("mouseenter",function(){_(this).closest(".woocommerce-product-gallery").find(".ms-image-view").removeClass("hide");_(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").addClass("hide")});e.find(".woocommerce-product-gallery__image").on("mouseleave",function(){_(this).closest(".woocommerce-product-gallery").find(".ms-image-view").addClass("hide");_(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").removeClass("hide")});e.on("click",".woocommerce-product-gallery__image",function(e){e.preventDefault();if(_(this).hasClass("fm-product-video")){return false}var t=[];var a=_(this).closest(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image");a.each(function(){var e=_(this);if(e.hasClass("fm-product-video")){t.push({html:e.find(".fm-video-content").html()})}else{t.push({src:e.children("a").attr("href"),w:e.find("a img").attr("data-large_image_width"),h:e.find("a img").attr("data-large_image_height")})}});var i=a.index(_(this)),r={index:i,bgOpacity:.85,showHideOpacity:true,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:false,fullscreenEl:false,shareEl:false,tapToClose:true,tapToToggleControls:false};var o=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,t,r);o.init();o.listen("close",function(){_(".fm-video-wrapper").find("iframe").each(function(){_(this).attr("src",_(this).attr("src"))});_(".fm-video-wrapper").find("video").each(function(){_(this)[0].pause()})});return false})};p.hoverProductTabs=function(){var e,t,a,i,r,o=_(".single-product .woocommerce-tabs").find("ul.wc-tabs");if(o.length<1){return}o.append('<li id="fm-wc-tab__magic-line" class="fm-wc-tab__magic-line"></li>');var n=_("#fm-wc-tab__magic-line");p.$window.on("load",function(){r=o.children("li.active").outerWidth();n.width(r).css("left",o.children("li.active").position().left).data("origWidth",n.width());i=n.data("origWidth");o.children("li").on("mouseenter",function(){e=_(this);a=e.outerWidth();t=e.position().left;n.stop().animate({left:t,width:a})});o.children("li").on("mouseleave",function(){n.stop().animate({left:n.data("origLeft"),width:i})});o.on("click","li",function(){e=_(this);i=a=e.outerWidth();t=e.position().left;n.stop().animate({left:t,width:a});n.data("origLeft",t).data("origWidth",a)})})};p.singleProductCarousel=function(){var e=_(".single-product, .fm-cart-page").find(".related-products");e.each(function(){var e=_(this),t=e.data("columns"),a=e.find("ul.products");if(a.find("li.product").length<t){return}a.not(".slick-initialized").slick({rtl:farmartData.direction==="true",slidesToShow:parseInt(t),slidesToScroll:1,arrows:true,dots:false,infinite:false,centerPadding:"20px",prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight,responsive:[{breakpoint:1366,settings:{slidesToShow:parseInt(t)>5?5:parseInt(t),slidesToScroll:parseInt(t)>5?5:parseInt(t),arrows:false,dots:true}},{breakpoint:1200,settings:{slidesToShow:parseInt(t)>4?4:parseInt(t),slidesToScroll:parseInt(t)>4?4:parseInt(t),arrows:false,dots:true}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3,arrows:false,dots:true}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2,arrows:false,dots:true}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2,arrows:false,dots:true}}]})})};p.fbtProduct=function(){if(!p.$body.hasClass("single-product")){return}var r=_("#fm-product-fbt");if(r.length<=0){return}var o=r.find(".fm-total-price .woocommerce-Price-amount"),n=r.find(".fm_add_to_cart_button"),s=parseFloat(r.find("#fm-data_price").data("price")),c=farmartData.currency_param.currency_symbol,d=farmartData.currency_param.thousand_sep,l=farmartData.currency_param.decimal_sep,f=farmartData.currency_param.price_decimals,u=farmartData.currency_param.currency_pos;r.find(".products-list").on("click","a",function(e){e.preventDefault();var t=_(this).data("id");_(this).closest("li").toggleClass("uncheck");var a=parseFloat(_(this).closest("li").find(".s-price").data("price"));if(_(this).closest("li").hasClass("uncheck")){r.find("#fbt-product-"+t).addClass("un-active");s-=a}else{r.find("#fbt-product-"+t).removeClass("un-active");s+=a}var i="0";r.find(".products-list li").each(function(){if(!_(this).hasClass("uncheck")){i+=","+_(this).find("a").data("id")}});n.attr("value",i);o.html(m(s))});function m(e){var t=e;if(parseInt(f)>0){e=e.toFixed(f)+"";var a=e.split(".");var i=a[0],r=a.length>1?l+a[1]:"";var o=/(\d+)(\d{3})/;while(o.test(i)){i=i.replace(o,"$1"+d+"$2")}t=i+r}switch(u){case"left":return c+t;break;case"right":return t+c;break;case"left_space":return c+" "+t;break;case"right_space":return t+" "+c;break}}};p.fbtAddToCartAjax=function(){var s=_("#fm-product-fbt");if(s.length<=0){return}s.on("click",".fm_add_to_cart_button.ajax_add_to_cart",function(e){e.preventDefault();var t=_(this);t.addClass("loading");var a=window.location.href,i="",r=0;s.find(".products-list li").each(function(){if(!_(this).hasClass("uncheck")){if(r>0){i+=","}i+=" "+_(this).find("a").data("title");r++}});var o={nonce:farmartData.nonce,product_ids:t.attr("value")},n=farmartData.ajax_url.toString().replace("%%endpoint%%","farmart_fbt_add_to_cart");_.post(n,o,function(e){if(typeof wc_add_to_cart_params!=="undefined"){if(wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=wc_add_to_cart_params.cart_url;return}}_(document.body).trigger("updated_wc_div");_(document.body).trigger("wc_fragment_refresh");p.addedToCartNotice("",i,false,"success",true);t.removeClass("loading")})})};p.fbtAddToWishlistAjax=function(){var r=_("#fm-product-fbt"),o=0;if(!r.length){return}var n=s();if(n.length==0){r.find(".btn-view-to-wishlist").addClass("showed");r.find(".btn-add-to-wishlist").addClass("hided")}r.on("click",".btn-add-to-wishlist",function(e){e.preventDefault();var t=_(this);n=s();if(n.length==0){return}var a="",i=0;r.find(".products-list li").each(function(){if(!_(this).hasClass("uncheck")){if(i>0){a+=","}a+=" "+_(this).find("a").data("title");i++}});t.addClass("loading");c(n[o]);p.$body.on("added_to_wishlist",function(){if(n.length>o){c(n[o])}else if(n.length==o){r.find(".btn-view-to-wishlist").addClass("showed");r.find(".btn-add-to-wishlist").addClass("hided");p.addedToWishlistNotice("",a,false,"success",true);t.removeClass("loading")}})});function s(){var e=[];r.find("li.product").each(function(){if(!_(this).hasClass("un-active")&&!_(this).hasClass("product-buttons")&&!_(this).find(".yith-wcwl-add-to-wishlist").hasClass("exists")){if(e.indexOf(_(this).data("id"))==-1){e.push(_(this).data("id"))}}});return e}function c(e){var t=r.find(".add-to-wishlist-"+e);t.find(".yith-wcwl-add-button .add_to_wishlist").trigger("click");o++;return o}};p.productVariation=function(){var a=_(".variations_form");p.$body.on("tawcvs_initialized",function(){a.unbind("tawcvs_no_matching_variations");a.on("tawcvs_no_matching_variations",function(e,t){e.preventDefault();a.find(".woocommerce-variation.single_variation").show();if(typeof wc_add_to_cart_variation_params!=="undefined"){a.find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")}})});a.find("td.value").on("change","select",function(){var e=_(this).find("option:selected").text();_(this).closest("tr").find("td.label .fm-attr-value").html(e)})};p.stickyProductInfo=function(){if(!p.$body.hasClass("sticky-header-info")){return}var a=_("#sticky-product-info-wapper"),i=_("div.product").find(".woocommerce-tabs"),r=a.outerHeight(true),o=_("div.product").find(".fm-product-summary"),n=_("div.product").find(".entry-summary").find(".cart"),s=0;a.find(".sc-tabs").on("click","a",function(e){e.preventDefault();var t=_(this).data("tab");_(this).closest(".sc-tabs").find("a").removeClass("active");_(this).addClass("active");if(p.$body.hasClass("mobile-version")){var a=_("#tab-"+t);if(a.length>0){s=a.offset().top-r-60;_("html, body").stop().animate({scrollTop:s},400)}}else{if(i.length>0){i.find("."+t+"_tab a").trigger("click");s=i.offset().top-r-60;_("html, body").stop().animate({scrollTop:s},400)}}});i.find(".wc-tabs").on("click","a",function(e){e.preventDefault();var t=_(this).attr("href");t=t?t.replace("#",""):t;if(t){a.find(".sc-tabs").find("a").removeClass("active");a.find(".sc-tabs ."+t).addClass("active")}});a.find(".sc-product-cart").on("click",".button",function(e){e.preventDefault();if(n.length>0){var t=n.offset().top-r-50;_("html, body").stop().animate({scrollTop:t},400)}});var c=150;if(p.$body.hasClass("mobile-version")){p.$window.on("scroll",function(){a.find(".sc-tabs li a").removeClass("active");a.find(".sc-tabs li").each(function(){var e=_(this).find("a");var t=e.attr("href");if(_(t).is(":in-viewport("+c+")")){e.addClass("active")}})})}if(o.length<1){return}var d=0;p.$window.on("scroll",function(){if(p.$body.hasClass("mobile-version")){var e=_("#topbar").length>0?_("#topbar").outerHeight(true):0,t=p.$header.outerHeight(true);d=t+e}else{d=o.offset().top-300}if(p.$window.scrollTop()>d){a.addClass("viewport")}else{a.removeClass("viewport")}});var e=_("#wpadminbar"),t=a.data("top_offset");if(e.length&&"top"&&"fixed"===e.css("position")){t+=e.height()}a.css({top:t})};p.productsCarousel=function(){var e=_(".farmart-wc-products-carousel");e.each(function(){var e=_(this),t=e.find("ul.products"),a=e.data("settings");if(!a){return}var i={arrows:true,dots:false,prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight};var r=JSON.stringify(a);t.attr("data-slick",r);t.slick(i)})};p.Tabs=function(){var r=_(".farmart-tabs");r.each(function(){var e=_(this).find(".tabs-nav a"),i=_(this).find(".tabs-panel");e.filter(":first").addClass("active");_(this).find(".tabs-nav").find("li").filter(":first").addClass("active");i.filter(":first").addClass("active");e.on("click",function(e){if(_(this).hasClass("view-all")){return}e.preventDefault();var t=_(this),a=t.parent().index();if(t.hasClass("active")){return}r.find(".tabs-nav a").removeClass("active");t.addClass("active");i.removeClass("active");i.filter(":eq("+a+")").addClass("active")})})};p.reviewProduct=function(){setTimeout(function(){_("#respond p.stars a").prepend('<span class="farmart-svg-icon"><svg aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></span>')},100)};p.postFormatGallery=function(){var e=_(".format-gallery").find("ul.slides");var t={prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight};e.not(".slick-initialized").slick(t)};p.postRelated=function(){var e=_(".farmart-post__related").find(".list-post");e.each(function(){var e=_(this),t={prevArrow:p.$iconChevronLeft,nextArrow:p.$iconChevronRight};e.slick(t)})};p.blogFilterAjax=function(){p.$body.find("#farmart-taxs-list").on("click","a",function(e){e.preventDefault();_(this).addClass("selected");var t=_(this).attr("href");p.$body.trigger("farmart_blog_filter_ajax",t,_(this))});p.$body.on("farmart_blog_filter_ajax",function(e,t){var a=_(".farmart-post--wrapper"),i=_("#farmart-taxs-list");a.addClass("show");_(".farmart-post-list__loading").addClass("show");if("?"==t.slice(-1)){t=t.slice(0,-1)}t=t.replace(/%2C/g,",");history.pushState(null,null,t);if(p.ajaxXHR){p.ajaxXHR.abort()}p.ajaxXHR=_.get(t,function(e){setTimeout(function(){a.replaceWith(_(e).find(".farmart-post--wrapper"));i.html(_(e).find("#farmart-taxs-list").html());p.postFormatGallery();_(".farmart-post-list__loading").removeClass("show");_(".farmart-post--wrapper .blog-wrapper").addClass("animated farmartFadeInUp");a.removeClass("show")},800);p.$body.trigger("farmart_ajax_filter_request_success",[e,t])},"html")})};p.blogLoadingAjax=function(){p.$window.on("scroll",function(){if(p.$body.find("#farmart-posts-load-scroll").is(":in-viewport")){p.$body.find("#farmart-posts-load-scroll").closest("a").click()}}).trigger("scroll");p.$body.on("click","#farmart-blog-previous-ajax a",function(e){e.preventDefault();if(_(this).data("requestRunning")){return}_(this).data("requestRunning",true);var t=_(this).closest(".site-main"),i=t.find(".farmart-post-list"),r=_(this).parents(".load-navigation");r.addClass("loading");_.get(_(this).attr("href"),function(e){var t=_(e).find(".farmart-post-list").children(".blog-wrapper"),a=_(e).find(".load-navigation").html();r.addClass("loading");r.html(a);i.append(t);p.postFormatGallery();p.popupVideo();r.find("a").data("requestRunning",false);t.addClass("animated farmartFadeInUp");r.removeClass("loading");if(r.find("#farmart-blog-previous-ajax").length<1){r.remove()}})})};p.scrollTop=function(){var e=_("#scroll-top");p.$window.scroll(function(){if(p.$window.scrollTop()>p.$window.height()){e.addClass("show")}else{e.removeClass("show")}});e.on("click",function(e){e.preventDefault();_("html, body").stop().animate({scrollTop:0},800)})};p.wooTabToggle=function(){if(typeof farmartData.product_collapse_tab==="undefined"){return}var e=_(".fm-woo-tabs .fm-Tabs-panel");e.each(function(){var e=_(this),t=e.attr("id"),a=_("#"+t).find(".tab-title");if(farmartData.product_collapse_tab.status=="close"){a.siblings(".tab-content-wrapper").addClass("closed")}else{a.addClass("active")}a.on("click",function(e){e.preventDefault();_(this).siblings(".tab-content-wrapper").toggleClass("opened");_(this).toggleClass("active")})})};p.catalogSorting=function(){if(p.$window.width()>767){return}var t=_("#fm-catalog-sorting-mobile");_("#fm-catalog-toolbar").on("click",".woocommerce-ordering",function(e){e.preventDefault();t.addClass("fm-active")});t.on("click","a",function(e){e.preventDefault();t.removeClass("fm-active");t.find("a").removeClass("active");_(this).addClass("active")})};p.goBackToPreviouslyPage=function(){var e=_(".farmart-go-back");e.each(function(){var e=_(this);e.on("click","a",function(e){e.preventDefault();window.history.go(-1);_(window).on("popstate",function(e){window.location.reload(true)})})})};_(function(){p.init()})})(jQuery);